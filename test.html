<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>

  <title>Document</title>
</head>

<body>


  <div id="popupForm" class="fixed shadow z-10 inset-0 bg-blue-200 bg-opacity-50 backdrop-blur-sm flex items-center justify-center hidden transition-opacity duration-500 ease-out opacity-0">
    <div class="bg-white max-w-md w-full p-6 rounded-lg relative transform transition-transform scale-95">
      <form id="myForm" class="space-y-4">
        <h2 class="text-xl font-bold text-gray-800">Add Your Task</h2>
        <input class="w-full p-2 rounded" id="title" type="text" placeholder="title">
        <input class="w-full p-2 rounded" id="date" type="date">
        <select id="priority" class="w-full p-2 rounded">
          <option value="">Priority</option>
          <option value="op1">op1</option>
          <option value="op2">op2</option>
          <option value="op3">op3</option>
        </select>
        <select id="status" class="w-full p-2 rounded">
          <option value="">Status</option>
          <option value="toDo">To Do</option>
          <option value="Doing">Doing</option>
          <option value="Done">Done</option>
        </select>
        <textarea class="w-full p-2 rounded resize-none" id="description" placeholder="description"></textarea>
        <input type="submit" id="submit" value="Add New Task" class="w-full p-2 bg-blue-500 text-white rounded cursor-pointer hover:bg-blue-600">
      </form>
      <button id="closePopup" class="w-full mt-2 p-2 bg-red-500 text-white rounded cursor-pointer hover:bg-red-600">Cancel</button>
    </div>
  </div>
  
  
    <!-- Body -->
  
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 m-6  ">
      <div class=" bg-white rounded-lg p-4">
        <h2 class="p-2 text-lg font-bold text-black mb-4">To Do</h2>
        <div class="toDo"></div>
      </div>
      <div class=" bg-white rounded-lg p-4">
        <h2 class="p-2 text-lg font-bold text-black mb-4">Doing</h2>
        <div class="doing"></div>
      </div>
      <div class=" bg-white rounded-lg p-4">
        <h2 class="p-2 text-lg font-bold text-black mb-4">Done</h2>
        <div class="done"></div>
      </div>
    </div>
  






  <script>
    let titleInput = document.getElementById("title");
    let dateInput = document.getElementById("date");
    let statusSelect = document.getElementById("status");
    let prioritySelect = document.getElementById("priority");
    let descInput = document.getElementById("description");
    let submitInput = document.getElementById("submit");
    let formation = document.getElementById("myForm");

    let todoContainer = document.querySelector(".toDo");
    let doingContainer = document.querySelector(".doing");
    let doneContainer = document.querySelector(".done");

    let array = [];
    let editIndex = -1;

    const openPopupButton = document.getElementById("openPopup");
    const closePopupButton = document.getElementById("closePopup");
    const popupForm = document.getElementById("popupForm");

    openPopupButton.addEventListener("click", () => {
      popupForm.classList.remove("hidden");
      setTimeout(() => {
        popupForm.classList.remove("opacity-0", "scale-90");
        popupForm.classList.add("opacity-100", "scale-100");
      }, 10);
    });

    closePopupButton.addEventListener("click", () => {
      popupForm.classList.remove("opacity-100", "scale-100");
      popupForm.classList.add("opacity-0", "scale-95");
      setTimeout(() => popupForm.classList.add("hidden"), 700);
    });



    formation.addEventListener("submit", function (event) {
      event.preventDefault();
      if (titleInput.value !== "" && dateInput.value !== "" && prioritySelect.value !== "" && statusSelect.value !== "" && descInput.value !== "") {
        if (editIndex > -1) {
          array[editIndex] = {
            title: titleInput.value,
            date: dateInput.value,
            status: statusSelect.value,
            priority: prioritySelect.value,
            desc: descInput.value
          };
          editIndex = -1;
          submitInput.value = "Add";
        } else {
          add_to_array(titleInput.value, dateInput.value, statusSelect.value, prioritySelect.value, descInput.value);
        }
        renderList();
        popupForm.classList.add("hidden");

      } else {
        alert("Complete the form!");
      }
    });

    function add_to_array(title, date, status, priority, desc) {
      let card_element = {
        title: title,
        date: date,
        status: status,
        priority: priority,
        desc: desc,
      };
      array.push(card_element);

      titleInput.value = "";
      dateInput.value = "";
      statusSelect.value = "";
      prioritySelect.value = "";
      descInput.value = "";
    }

    function renderList() {
      todoContainer.innerHTML = "";
      doingContainer.innerHTML = "";
      doneContainer.innerHTML = "";

      array.forEach((card_element, index) => {
        let div = document.createElement("div");
        div.classList.add('border', 'p-2', 'm-2', 'rounded');

        if (card_element.priority === "op1") {
          div.classList.add('border-l-4', 'border-red-500', 'bg-red-200');
        } else if (card_element.priority === "op2") {
          div.classList.add('border-l-4', 'border-yellow-500', 'bg-yellow-200');
        } else if (card_element.priority === "op3") {
          div.classList.add('border-l-4', 'border-green-500', 'bg-green-200');
        }

        div.innerHTML = `
        <h3 class="text-lg font-semibold">${card_element.title}</h3>
        <p class="text-sm text-black">Date: ${card_element.date}</p>
        <p class="text-sm text-black">Priority: ${card_element.priority}</p>
        <p class="text-sm text-black">Description: ${card_element.desc}</p>
        <button class="delete-btn bg-red-500 text-white p-1 rounded mt-2 mr-2 hover:bg-red-600">Delete</button>
        <button class="edit-btn bg-green-500 text-white p-1 rounded mt-2 mr-2 hover:bg-green-600">Edit</button>
        `;

        if (card_element.status === "toDo") {
          todoContainer.appendChild(div);
        } else if (card_element.status === "Doing") {
          doingContainer.appendChild(div);
        } else if (card_element.status === "Done") {
          doneContainer.appendChild(div);
        }
        div.querySelector(".delete-btn").addEventListener("click", () => {
          array.splice(index, 1);
          renderList();
        });

        div.querySelector(".edit-btn").addEventListener("click", () => {
          titleInput.value = card_element.title;
          dateInput.value = card_element.date;
          statusSelect.value = card_element.status;
          prioritySelect.value = card_element.priority;
          descInput.value = card_element.desc;

          editIndex = index;
          submitInput.value = "Save";
          popupForm.classList.remove("hidden");
        });
      });
    }

    
  </script>

</body>

</html>





<!-- 
  let produits;

// data 
// smartphone
let phone1 = {
    id: 10,
    nom: "Samsung Galaxy",
    spec: "Apple avec pcOLED 6.1pc",
    prix: 2000,
    marque:"Samsung",
    id_cat: 1,
    image: "https://ma.jumia.is/unsafe/fit-in/680x680/filters:fill(white)/product/81/037446/1.jpg?4124",
    couleur: "noir",
    stockage: "250gb",
    processeur: "Exynos",
    FicheTechnique: [
        "pcOLED 6.1pc",
        "Processeur Exynos",
        "Caméra arrière 50 MP",
        "Batterie 5000 mAh",
        "Mémoire RAM 4 GB",
        "Stockage interne 250 GB",
        "Support 5G"
    ],
};


produits = [phone1,PC5, PC6, casq2, casq3, television1, television2,  moniteur1, moniteur2, phone2, phone3, souris4, souris5, phone4, phone5, phone6, phone7, phone8, phone9, phone10, phone11, phone12, PC1, PC2, PC3, PC4, PC7, PC8, PC9, PC10, PC11, PC12, casq1,  casq4, casq5, casq6, casq7, casq8, casq9, casq10, casq11, casq12, souris1
    , souris2, souris3,  television3, television4, moniteur3, moniteur4,
    machineLaver1, machineLaver2, machineLaver3, machineLaver4, microOnde1, microOnde2, microOnde3, microOnde4, refrigerateur1, refrigerateur2,
    refrigerateur3, refrigerateur4
];


/* stock en local storage */

localStorage.setItem("arr_produits", JSON.stringify(produits)); 
-->










<!-- class="w-24 bg-[url('img/card-normal.webp')] bg-no-repeat bg-cover bg-center" -->



<!-- <h2>Form Ajouter</h2>
  <form class="max-w-sm ">
    <label>Player Name</label>
    <input class="" type="text" placeholder="Player Name" required>
    <label>nationality</label>
    <input type="text" placeholder="nationality" required>
    <label>club</label>
    <input type="text" placeholder="Club" required>
    <label>Position</label>
    <select class="text-black" name="position" id="position" placeholder="Position" required>
      <option value="ST">ST</option>
      <option value="LW">LW</option>
      <option value="RM">RM</option>
      <option value="CM">CM</option>
      <option value="CDM">CDM</option>
      <option value="LB">LB</option>
      <option value="CB">CB</option>
      <option value="RB">RB</option>
      <option value="GK">GK</option>  
    </select>
    <div class="hidden">
      <label>pace</label>
      <input type="text" placeholder="Pace" required>
      <label>hooting</label>
      <input type="text" placeholder="Hooting" required>
      <label>passing</label>
      <input type="text" placeholder="Passing" required>
      <label>dribbling</label>
      <input type="text" placeholder="Dribbling" required>
      <label>defending</label>
      <input type="text" placeholder="Defending" required>
      <label>physical</label>
      <input type="text" placeholder="Physical" required>
    </div>
  </form>
</div> -->
<!-- element dans le card -->

<!-- 
<button class=" flex flex-col items-center">
    <div class="relative flex flex-col justify-center mt-3 md:mt-0 md:w-24 md:h-32 w-10 h-12 bg-[url('img/card-normal.webp')] bg-no-repeat bg-cover bg-center">
      <div class="scale-[2] ml-9 mt-[0.3rem]">
        <div class="absolute ml-1 mt-2">
          <p class="text-[0.3rem] font-bold">90</p>
          <p class="text-[0.2rem] ">CF</p>
        </div>
        <img class="w-7 ml-2 mt-1 z-20 " src="img/player.webp" alt="">
        <p class="absolute font-semibold text-[0.2rem] ml-[1rem]">Messi</p>
        <div class="flex ml-[0.4rem] mt-[0.3rem] gap-[0.07rem]">
          <p class="text-[0.13rem]">PAC</p>
          <p class="text-[0.13rem]">SHO</p>
          <p class="text-[0.13rem]">PAS</p>
          <p class="text-[0.13rem]">DRI</p>
          <p class="text-[0.13rem]">DEF</p>
          <p class="text-[0.13rem]">PHY</p>
        </div>
        <div class="flex ml-[0.4rem] mt-[-0.05rem] gap-[0.1rem]">
          <p class="text-[0.17rem] font-bold">90</p>
          <p class="text-[0.17rem] font-bold">90</p>
          <p class="text-[0.17rem] font-bold">90</p>
          <p class="text-[0.17rem] font-bold">90</p>
          <p class="text-[0.17rem] font-bold">90</p>
          <p class="text-[0.17rem] font-bold">90</p>
        </div>
        <div class="flex ml-[0.9rem] mt-[0.1rem] gap-[0.4rem]">
          <img class="w-[0.21rem] " src="img/120.webp" alt="">
          <img class="h-[0.2rem] w-[0.3rem] mt-[]" src="img/ar.webp" alt="">
        </div>
      </div>



    </div>
    <p class=" bg-gray-900 text-white rounded-[50%] text-center text-[8px] md:text-xs w-6 md:w-10">ST</p>
  </button> 
-->




<!-- 
<script>
  let titleInput = document.getElementById("title");
  let dateInput = document.getElementById("date");
  let statusSelect = document.getElementById("status");
  let prioritySelect = document.getElementById("priority");
  let descInput = document.getElementById("description");
  let submitInput = document.getElementById("submit");
  let formation = document.getElementById("myForm");

  let todoContainer = document.querySelector(".toDo");
  let doingContainer = document.querySelector(".doing");
  let doneContainer = document.querySelector(".done");

  let array = [];
  let editIndex = -1;

  const openPopupButton = document.getElementById("openPopup");
  const closePopupButton = document.getElementById("closePopup");
  const popupForm = document.getElementById("popupForm");

  openPopupButton.addEventListener("click", () => {
    popupForm.classList.remove("hidden");
    setTimeout(() => {
      popupForm.classList.remove("opacity-0", "scale-90");
      popupForm.classList.add("opacity-100", "scale-100");
    }, 10);
  });

  closePopupButton.addEventListener("click", () => {
    popupForm.classList.remove("opacity-100", "scale-100");
    popupForm.classList.add("opacity-0", "scale-95");
    setTimeout(() => popupForm.classList.add("hidden"), 700);
  });



  formation.addEventListener("submit", function (event) {
    event.preventDefault();
    if (titleInput.value !== "" && dateInput.value !== "" && prioritySelect.value !== "" && statusSelect.value !== "" && descInput.value !== "") {
      if (editIndex > -1) {
        array[editIndex] = {
          title: titleInput.value,
          date: dateInput.value,
          status: statusSelect.value,
          priority: prioritySelect.value,
          desc: descInput.value
        };
        editIndex = -1;
        submitInput.value = "Add";
      } else {
        add_to_array(titleInput.value, dateInput.value, statusSelect.value, prioritySelect.value, descInput.value);
      }
      renderList();
      popupForm.classList.add("hidden");

    } else {
      alert("Complete the form!");
    }
  });

  function add_to_array(title, date, status, priority, desc) {
    let card_element = {
      title: title,
      date: date,
      status: status,
      priority: priority,
      desc: desc,
    };
    array.push(card_element);

    titleInput.value = "";
    dateInput.value = "";
    statusSelect.value = "";
    prioritySelect.value = "";
    descInput.value = "";
  }

  function renderList() {
    todoContainer.innerHTML = "";
    doingContainer.innerHTML = "";
    doneContainer.innerHTML = "";

    array.forEach((card_element, index) => {
      let div = document.createElement("div");
      div.classList.add('border', 'p-2', 'm-2', 'rounded');

      if (card_element.priority === "op1") {
        div.classList.add('border-l-4', 'border-red-500', 'bg-red-200');
      } else if (card_element.priority === "op2") {
        div.classList.add('border-l-4', 'border-yellow-500', 'bg-yellow-200');
      } else if (card_element.priority === "op3") {
        div.classList.add('border-l-4', 'border-green-500', 'bg-green-200');
      }

      div.innerHTML = `
      <h3 class="text-lg font-semibold">${card_element.title}</h3>
      <p class="text-sm text-black">Date: ${card_element.date}</p>
      <p class="text-sm text-black">Priority: ${card_element.priority}</p>
      <p class="text-sm text-black">Description: ${card_element.desc}</p>
      <button class="delete-btn bg-red-500 text-white p-1 rounded mt-2 mr-2 hover:bg-red-600">Delete</button>
      <button class="edit-btn bg-green-500 text-white p-1 rounded mt-2 mr-2 hover:bg-green-600">Edit</button>
      `;

      if (card_element.status === "toDo") {
        todoContainer.appendChild(div);
      } else if (card_element.status === "Doing") {
        doingContainer.appendChild(div);
      } else if (card_element.status === "Done") {
        doneContainer.appendChild(div);
      }
      div.querySelector(".delete-btn").addEventListener("click", () => {
        array.splice(index, 1);
        renderList();
      });

      div.querySelector(".edit-btn").addEventListener("click", () => {
        titleInput.value = card_element.title;
        dateInput.value = card_element.date;
        statusSelect.value = card_element.status;
        prioritySelect.value = card_element.priority;
        descInput.value = card_element.desc;

        editIndex = index;
        submitInput.value = "Save";
        popupForm.classList.remove("hidden");
      });
    });
  }
</script> -->

<!-- // array[index] = {
  //   Name : inputName.value,
  //   Nation : inputNation.value,
  //   Club : inputClub.value,
  //   Post : inputPost.value,
  // };
  // index = -1; -->